<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="memberMapper">

	<resultMap id="memberResultSet" type="Member">
		<result column="user_id" property="userId" />
		<result column="user_pwd" property="userPwd" />
		<result column="user_Name" property="userName" />
		<result column="email" property="email" />
		<result column="gender" property="gender" />
		<result column="age" property="age" />
		<result column="user_phone" property="phone" />
		<result column="user_address" property="address" />
	</resultMap>

	<select id="loginMember" resultMap="memberResultSet" parameterType="Member">
		SELECT *
		FROM MEMBER
		WHERE USER_ID = #{userId} AND USER_PWD = #{userPwd} AND STATUS = 'Y'
	</select>

	<select id="idCheck" resultType="_int">
		SELECT COUNT(*)
		FROM MEMBER
		WHERE USER_ID = #{id} AND STATUS = 'Y'
	</select>
	<!--
		DML (insert/update/delete) 작성

		<insert|update|delete id="sql문 식별자"
							  [parameterType="전달받을 데이터타입(전체클래스명|별칭)"]>
			실행할 SQL문
		</insert|update|delete>
	 -->
	<insert id="insertMember" parameterType="Member">
		INSERT INTO MEMBER (USER_NO
		, USER_ID
		, USER_PWD
		, USER_NAME
		, EMAIL
		, BIRTHDAY
		, GENDER
		, PHONE
		, ADDRESS)
		VALUES ( SEQ_UNO.NEXTVAL
		, #{userId}
		, #{userPwd}
		, #{userName}
		, #{email}
		, #{birthday}
		, #{gender}
		, #{phone}
		, #{address} )
	</insert>
</mapper>