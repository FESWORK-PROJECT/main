<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="slideMapper">

	<resultMap id="slideResultSet" type="Slide">
		<result column="FESTIVAL_NO" property="festivalNo" />
		<result column="MEM_ID" property="memId" />
		<result column="LOCAL_CODE" property="localCode" />
		<result column="FESTIVAL_NAME" property="festivalName" />
		<result column="OPEN_DATE" property="openDate" />
		<result column="CLOSE_DATE" property="closeDate" />
		<result column="FES_LIKE" property="fesLike" />
		<result column="FES_DESCRIPTION" property="fesDescription"/>
		<result column="FES_ADD" property="fesAdd" />
		<result column="FES_IMAGE" property="fesImage"/>
	</resultMap>
	
	<resultMap id="simpleFestivalResultMap" type="Slide">
	    <result column="FESTIVAL_NO" property="festivalNo" />
	    <result column="FESTIVAL_NAME" property="festivalName" />
	    <result column="FES_IMAGE" property="fesImage" />
	    <result column="FES_ADD" property="fesAdd" />
	</resultMap>
	
	<select id="getAllSlides" resultMap="slideResultSet">
		SELECT *
		FROM FESTIVAL
	</select>
	
	<select id="selectTopFestivals" resultMap = "simpleFestivalResultMap">
		SELECT FESTIVAL_NO,
		       FESTIVAL_NAME,
		       FES_IMAGE,
		       FES_ADD
		FROM FESTIVAL
		WHERE ROWNUM &lt;= 3
		ORDER BY FES_LIKE DESC
    </select>
	
</mapper>